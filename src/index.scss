@use 'sass:math';

// Grids
// -------------------------------
$grid-gap: 10px !default;
$grid-gap-x: $grid-gap !default;
$grid-gap-y: $grid-gap !default;
$grid-list: (1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
$grid-responsive: (
  xs: 390px,
  sm: 1280px,
  md: 1440px,
  lg: 1600px
) !default;

:root {
  --grid-gap-x: #{$grid-gap-x};
  --grid-gap-y: #{$grid-gap-y};
  --grid-gap-x-half: calc(var(--grid-gap-x) / 2);
  --grid-gap-y-half: calc(var(--grid-gap-y) / 2);
  --grid-gap-x-half-negative: calc(var(--grid-gap-x) / -2);
  --grid-gap-y-half-negative: calc(var(--grid-gap-y) / -2);
}

[class*='wsui-cols-'] {
  display: flex;
  flex-wrap: wrap;
  overflow: hidden;
  margin: var(--grid-gap-y-half-negative) var(--grid-gap-x-half-negative);
}

// class * with .col-
[class*='wsui-cols-'] > * {
  box-sizing: border-box;
  margin: var(--grid-gap-y-half) var(--grid-gap-x-half);
}

@each $grid-num in $grid-list {
  .wsui-cols-#{$grid-num} > * {
    width: calc(#{math.percentage(math.div(1, $grid-num))} - var(--grid-gap-x));
  }
}

@each $breakpoint, $min-width in $grid-responsive {
  @media (min-width: $min-width) {
    @each $grid-num in $grid-list {
      .wsui-cols-#{$breakpoint}-#{$grid-num} > * {
        width: calc(
          #{math.percentage(math.div(1, $grid-num))} - var(--grid-gap-x)
        );
      }
    }
  }
}
